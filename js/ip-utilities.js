"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))((function(n,o){function a(t){try{p(r.next(t))}catch(t){o(t)}}function c(t){try{p(r.throw(t))}catch(t){o(t)}}function p(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,c)}p((r=r.apply(t,e||[])).next())}))},__importStar=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(exports,"__esModule",{value:!0});const http=__importStar(require("http")),https=__importStar(require("https"));let cachedIP;function getPublicIP(){return __awaiter(this,void 0,void 0,(function*(){if(void 0===cachedIP){let t=["https://icanhazip.com/","http://api.ipify.org/","http://ipv4bot.whatismyipaddress.com/"],e=[];for(let i of t)e.push(new Promise((t,e)=>{let r="",n={method:"GET"};i.startsWith("https")?https.get(i,n,i=>{i.on("data",t=>r+=t),i.on("end",()=>{i.complete?t(r):e()})}):http.get(i,n,i=>{i.on("data",t=>r+=t),i.on("end",()=>{i.complete?t(r):e()})})}));cachedIP=(yield Promise.any(e)).trim()}return cachedIP}))}require("promise-any-polyfill"),exports.getPublicIP=getPublicIP;
//# sourceMappingURL=ip-utilities.js.map
