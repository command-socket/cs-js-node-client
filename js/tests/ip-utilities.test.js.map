{"version":3,"sources":["ts/tests/ip-utilities.test.ts"],"names":["IPUtilities","__importStar","require","ACTUAL_IP","test","__awaiter","resolvedIP","getPublicIP","expect","toBe","only","promiseAnyMock","jest","spyOn","Promise","theSameResolvedIP","toHaveBeenCalledTimes"],"mappings":"gkBAcA,MAAAA,YAAAC,aAAAC,QAAA,oBACAA,QAAA,wBAEA,MAAMC,UAAoB,cAE1BC,KAAK,0CAA2C,IAAWC,eAAA,OAAA,OAAA,GAAA,YAE1D,IAAIC,QAA2BN,YAAYO,cAE3CC,OAAOF,GAAYG,KAAKN,eAIzBC,KAAKM,KAAK,2CAA4C,IAAWL,eAAA,OAAA,OAAA,GAAA,YAEhE,IAAIM,EAAsBC,KAAKC,MAAMC,QAAS,OAE1CR,QAA2BN,YAAYO,cACvCQ,QAAkCf,YAAYO,cAElDC,OAAOF,GAAYG,KAAKN,WACxBK,OAAOO,GAAmBN,KAAKN,WAC/BK,OAAOG,GAAgBK,sBAAsB","file":"ip-utilities.test.js","sourcesContent":["/*\n *\tCreated by Trevor Sears <trevorsears.main@gmail.com>.\n *\t4:33 PM -- November 20th, 2019.\n *\tProject: CommandSocket - Core\n */\n\n/**\n * Unit tests for the IPUtilities module.\n *\n * @author Trevor Sears <trevorsears.main@gmail.com>\n * @version v0.1.0\n * @since v0.1.0\n */\n\nimport * as IPUtilities from \"../ip-utilities\";\nimport \"promise-any-polyfill\";\n\nconst ACTUAL_IP: string = \"47.6.34.113\";\n\ntest(\"#getPublicIP returns correct public IP.\", async () => {\n\t\n\tlet resolvedIP: string = await IPUtilities.getPublicIP();\n\t\n\texpect(resolvedIP).toBe(ACTUAL_IP);\n\t\n});\n\ntest.only(\"#getPublicIP only uses the network once.\", async () => {\n\t\n\tlet promiseAnyMock: any = jest.spyOn(Promise, \"any\");\n\t\n\tlet resolvedIP: string = await IPUtilities.getPublicIP();\n\tlet theSameResolvedIP: string = await IPUtilities.getPublicIP();\n\t\n\texpect(resolvedIP).toBe(ACTUAL_IP);\n\texpect(theSameResolvedIP).toBe(ACTUAL_IP);\n\texpect(promiseAnyMock).toHaveBeenCalledTimes(1);\n\t\n});"]}